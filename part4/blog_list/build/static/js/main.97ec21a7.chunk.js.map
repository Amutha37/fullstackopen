{"version":3,"sources":["components/Notification.js","components/Blog.js","services/blogs.js","services/login.js","components/LoginForm.js","components/BlogForm.js","components/Togglable.js","App.js","index.js"],"names":["Notification","_ref","message","textColor","react_default","a","createElement","className","Blog","blog","ind","handleBlogLikes","logedUser","handleDeleteBlog","_useState","useState","_useState2","Object","slicedToArray","showDetails","setShowDetails","_useState3","concat","user","name","_useState4","blogUserName","setBlogUserName","_useState5","likes","_useState6","setLikes","showBlogInfo","display","console","log","title","author","Fragment","type","onClick","_ref2","target","value","id","_ref3","style","url","token","fetchAll","getAll","axios","get","then","response","data","create","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","request","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","_x","apply","this","arguments","update","_callee2","_context2","put","_x2","_x3","deleteBlog","_callee3","_context3","delete","_x4","setToken","newToken","loginService","login","credentials","LoginForm","createLogin","username","setUsername","password","setPassword","onSubmit","event","preventDefault","onChange","autoComplete","BlogForm","createBlog","setTitle","setAuthor","setUrl","e","placeholder","Togglable","forwardRef","props","ref","visible","setVisible","hideLoginInput","showLoginInput","toggleVisibility","useImperativeHandle","buttonLabel","children","App","setUser","errorMessage","setErrorMessage","errTextColour","setErrTextColour","_useState7","_useState8","blogs","setBlogs","_useState9","_useState10","showing","setShowing","blogFormRef","useRef","useEffect","blogService","sort","b","loggedUserJSON","window","localStorage","getItem","JSON","parse","addBlog","blogObject","saveBlog","current","toConsumableArray","setTimeout","t0","handleLogin","loginObject","_user2","setItem","stringify","signOff","removeItem","blogId","blogToChange","updatedBlog","resStatus","find","objectSpread2","_ref4","_callee4","blogToDelete","_context4","confirm","filter","components_Notification","components_Togglable","components_LoginForm","components_BlogForm","map","i","components_Blog","key","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.97ec21a7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message, textColor }) => (\n  <p className={textColor ? 'error' : 'success'}>{message}</p>\n)\n\nexport default Notification\n","import React, { useState } from 'react'\n// const Blog = ({ blog, ind }) => {\n// import Blog from './components/RateLikes.js'\n\nconst Blog = ({ blog, ind, handleBlogLikes, logedUser, handleDeleteBlog }) => {\n  const [showDetails, setShowDetails] = useState(false)\n  const [blogUserName, setBlogUserName] = useState(`${blog.user.name}`)\n  //   const [showText, setShowText] = useState('show')\n  // const [status, setStatus] = useState(\n  //   new Array(filteredList.length).fill(false)\n  // )\n  // const hideBlogInfo = { display: loginVisible ? 'none' : '' }\n  let [likes, setLikes] = useState(blog.likes)\n  const showBlogInfo = { display: showDetails ? '' : 'none' }\n\n  // displayDetails = (e) => {\n  //   setShowDetails(!showDetails)\n  // }\n\n  const addLikes = ({ target }) => {\n    handleBlogLikes(target.value)\n    setLikes(++likes)\n  }\n\n  // === deleteBlogList ===\n  const deleteBlogList = ({ target }) => {\n    handleDeleteBlog(target.value)\n  }\n  //   console.log('blogUserName', blogUserName, logedUser.name)\n\n  if (blogUserName === null) {\n    console.log('user', logedUser.name)\n    setBlogUserName(logedUser.name)\n  }\n  return (\n    <div className='table_wraper'>\n      <ul>\n        <div className='first'>\n          <li>{ind + 1}.</li>\n          <li>{blog.title}</li>\n          <li>By : {blog.author}</li>\n\n          <div className='btn_blog'>\n            {!showDetails ? (\n              <button\n                type='button'\n                onClick={() => setShowDetails(!showDetails)}\n              >\n                More...\n              </button>\n            ) : (\n              <>\n                <button\n                  type='button'\n                  onClick={() => setShowDetails(!showDetails)}\n                >\n                  Hide\n                </button>\n                <button\n                  className='count'\n                  type='button'\n                  onClick={addLikes}\n                  value={blog.id}\n                >\n                  +Likes\n                </button>\n                {blog.user.name === logedUser.name && (\n                  <button\n                    className='delBlog'\n                    type='button'\n                    onClick={deleteBlogList}\n                    value={blog.id}\n                  >\n                    Remove\n                  </button>\n                )}\n              </>\n            )}\n\n            {/* <button type='button' onClick={() => setShowDetails(!showDetails)}>\n              Show\n            </button> */}\n          </div>\n        </div>\n\n        <div style={showBlogInfo} className='second'>\n          <ul>\n            <li>Url : {blog.url}</li>\n            {/* <li>Likes : {blog.likes}</li> */}\n            <li>Likes : {likes}</li>\n            <li>user : {blogUserName}</li>\n          </ul>\n          {/* <td>{blog.author}</td>\n          <td>{blog.url}</td>\n          <td>{blog.likes}</td> */}\n        </div>\n      </ul>\n    </div>\n  )\n}\nexport default Blog\n","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = async (newObject) => {\n  // authorize token\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const request = await axios.post(baseUrl, newObject, config)\n  // without async\n  // return request.then((response) => response.data)\n  return request.data\n}\n\nconst update = async (id, newObject) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = await axios.put(`${baseUrl}/${id}`, newObject, config)\n  const response = request\n  return response.data\n}\n\nconst deleteBlog = async (id) => {\n  const config = {\n    headers: { Authorization: token },\n  }\n  const request = await axios.delete(`${baseUrl}/${id}`, config)\n  const response = request\n  return response.data\n}\n// Since the names of the keys and the assigned variables are the same, we can write the object definition with more compact syntax:\n// from this to ES6 {\n//   getAll: getAll,\n//   create: create,\n//   update: update\n// }\n//  to this\n\nconst fetchAll = {\n  getAll,\n  create,\n  update,\n  deleteBlog,\n  setToken,\n}\nexport default fetchAll\n","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nconst loginService = { login }\n\nexport default loginService\n","import React, { useState } from 'react'\n\nconst LoginForm = ({ createLogin }) => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  // === handle Login ===\n\n  const handleLogin = (event) => {\n    event.preventDefault()\n\n    createLogin({\n      username,\n      password,\n    })\n\n    setUsername('')\n    setPassword('')\n  }\n\n  //  === handleChange ===\n\n  const handleUsernameChange = (event) => {\n    setUsername(event.target.value)\n  }\n  const handlePasswordChange = (event) => {\n    setPassword(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Login</h2>\n\n      <form onSubmit={handleLogin}>\n        <div>\n          username\n          <input value={username} onChange={handleUsernameChange} />\n        </div>\n        <div>\n          password\n          <input\n            type='password'\n            value={password}\n            autoComplete='off'\n            onChange={handlePasswordChange}\n          />\n        </div>\n        <button type='submit'>login</button>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm\n","import React, { useState } from 'react'\n\nconst BlogForm = ({ createBlog }) => {\n  // == new blog list local state ===\n  const [title, setTitle] = useState('')\n  const [author, setAuthor] = useState('')\n  const [url, setUrl] = useState('')\n\n  // === handle change ===\n  const handleChangeTitle = (event) => {\n    setTitle(event.target.value)\n  }\n  const handleChangeAuthor = (event) => {\n    setAuthor(event.target.value)\n  }\n  const handleChangeUrl = (event) => {\n    setUrl(event.target.value)\n  }\n\n  // === add blog ===\n\n  const addBlog = (e) => {\n    e.preventDefault()\n\n    createBlog({\n      title,\n      author,\n      url,\n    })\n\n    setTitle('')\n    setUrl('')\n    setAuthor('')\n  }\n\n  return (\n    <div className='newBlog'>\n      <h2>Create a new blog list</h2>\n      <form onSubmit={addBlog}>\n        <label>\n          Title :\n          <input\n            type='text'\n            value={title}\n            // name='title'\n            placeholder='title'\n            onChange={handleChangeTitle}\n          />\n        </label>\n        <label>\n          Author :\n          <input\n            type='text'\n            value={author}\n            // name='author'\n            placeholder='author'\n            onChange={handleChangeAuthor}\n          />\n        </label>\n        <label>\n          URL :\n          <input\n            type='text'\n            value={url}\n            // name='url'\n            placeholder='web url'\n            onChange={handleChangeUrl}\n          />\n        </label>\n        <button type='submit'>Save</button>\n      </form>\n    </div>\n  )\n}\n\nexport default BlogForm\n","import React, { useState, forwardRef, useImperativeHandle } from 'react'\n\nconst Togglable = forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideLoginInput = { display: visible ? 'none' : '' }\n  const showLoginInput = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  // === assign toggleVisibility for external use ===\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility,\n    }\n  })\n\n  return (\n    <div className='login_form_container'>\n      <div style={hideLoginInput}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showLoginInput}>\n        {props.children}\n        <button onClick={toggleVisibility}>cancel</button>\n      </div>\n    </div>\n  )\n})\n\nexport default Togglable\n","import './app.css'\nimport React, { useState, useEffect, useRef } from 'react'\nimport Notification from './components/Notification'\nimport Blog from './components/Blog.js'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport LoginForm from './components/LoginForm'\nimport BlogForm from './components/BlogForm'\nimport Togglable from './components/Togglable'\n\nconst App = () => {\n  const [user, setUser] = useState(null)\n\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [errTextColour, setErrTextColour] = useState(true)\n  const [blogs, setBlogs] = useState([])\n  const [showing, setShowing] = useState(false)\n\n  const blogFormRef = useRef()\n\n  useEffect(() => {\n    blogService.getAll().then((blogs) =>\n      // === sorting data ===\n\n      setBlogs(blogs.sort((a, b) => (b.likes > a.likes ? 1 : -1)))\n    )\n  }, [])\n  // Handle the first loading page with user loged in\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n  // === Add new blog list ===\n  const addBlog = async (blogObject) => {\n    // const newBlog = { title, author, url }\n\n    // blogService.create(blogObject).then((returnedBlog) => {\n    //   setBlogs(blogs.concat(returnedBlog))\n    // })\n    blogFormRef.current.toggleVisibility()\n    setErrTextColour(false)\n    try {\n      const saveBlog = await blogService.create(blogObject)\n      console.log('saveBlog', saveBlog)\n\n      setBlogs([...blogs, saveBlog])\n      setShowing(true)\n      setErrorMessage(`Blog '${saveBlog.title}' succesfully saved.`)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    } catch (error) {\n      console.log(error.response.data)\n      setErrTextColour(true)\n      setShowing(true)\n      setErrorMessage(error.response.data)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  // === handling loging ===\n  const handleLogin = async (loginObject) => {\n    try {\n      const user = await loginService.login({\n        username: loginObject.username,\n        password: loginObject.password,\n      })\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n      blogService.setToken(user.token)\n      setUser(user)\n    } catch (exception) {\n      setErrTextColour(true)\n      setShowing(true)\n      setErrorMessage('Wrong user name or password!')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  // === login form ===\n\n  const loginForm = () => (\n    <Togglable buttonLabel='log in'>\n      <LoginForm createLogin={handleLogin} />\n    </Togglable>\n  )\n\n  // === New Blog list form ===\n  const blogForm = () => (\n    <Togglable buttonLabel='Create new blog list' ref={blogFormRef}>\n      <BlogForm createBlog={addBlog} signOff={signOff} />\n    </Togglable>\n  )\n\n  //  === signoff ===\n  const signOff = () => {\n    window.localStorage.removeItem('loggedBlogappUser')\n    return setUser(null)\n  }\n  // === handleLikes ===\n  const handleBlogLikes = async (blogId) => {\n    const blogToChange = blogs.find((blog) => blog.id === blogId)\n\n    const updatedBlog = {\n      ...blogToChange,\n      likes: ++blogToChange.likes,\n      user: blogToChange.user.id,\n    }\n    const resStatus = await blogService.update(blogId, updatedBlog)\n    console.log('resStatus', resStatus.data)\n  }\n  // === Delete Blog ===\n  const handleDeleteBlog = async (blogId) => {\n    const blogToDelete = blogs.find((blog) => blog.id === blogId)\n    const sureToDelete = window.confirm(`Confirm remove :${blogToDelete.title}`)\n\n    if (sureToDelete) {\n      await blogService.deleteBlog(blogId)\n      setBlogs(\n        blogs.filter((blog) => {\n          return blog.id !== blogId\n        })\n      )\n      // setBlogs(resData)\n      // setBlogs(blogs.filter((blog) => blog.id !== blogId))\n    }\n  }\n\n  return (\n    <>\n      {/* <h2></h2> */}\n      {showing && (\n        <Notification message={errorMessage} textColor={errTextColour} />\n      )}\n\n      {/* == conditional form */}\n      {user === null ? (\n        loginForm()\n      ) : (\n        <>\n          <div className='logInBy'>\n            <p>{user.name} logged-in</p>\n            <button type='button' onClick={signOff}>\n              {' '}\n              Log Out\n            </button>\n          </div>\n          {blogForm()}\n          <h2>List of blogs</h2>\n          {blogs.map((blog, i) => (\n            <Blog\n              key={blog.id}\n              blog={blog}\n              ind={i}\n              handleBlogLikes={handleBlogLikes}\n              handleDeleteBlog={handleDeleteBlog}\n              logedUser={user}\n            />\n          ))}\n        </>\n      )}\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}